import{_ as H,d as E,i as j,w as l,o as F,a as G,b as N,c as $,e as U,n as V,r as q,F as J}from"./app.913fd071.js";import{u as Q}from"./useLife.eae0cdfe.js";import{b as X}from"./bindEvents.81d30a10.js";const Y=E({props:{ak:null,width:{default:"100%"},height:{default:"400px"},center:{default:()=>({lat:39.915185,lng:116.403901})},mapType:{default:"BMAP_NORMAL_MAP"},zoom:{default:16},heading:{default:0},tilt:{default:0},minZoom:{default:0},maxZoom:{default:21},enableDragging:{type:Boolean,default:!0},enableInertialDragging:{type:Boolean,default:!0},enableScrollWheelZoom:{type:Boolean,default:!0},enableContinuousZoom:{type:Boolean,default:!0},enableResizeOnCenter:{type:Boolean,default:!0},enableDoubleClickZoom:{type:Boolean,default:!1},enableKeyboard:{type:Boolean,default:!0},enablePinchToZoom:{type:Boolean,default:!0},enableAutoResize:{type:Boolean,default:!0},onClick:null,onDblclick:null,onRightclick:null,onRightdblclick:null,onMaptypechange:null,onMousemove:null,onMouseover:null,onMouseout:null,onMovestart:null,onMoving:null,onMoveend:null,onZoomstart:null,onZoomend:null,onAddoverlay:null,onAddcontrol:null,onRemovecontrol:null,onRemoveoverlay:null,onClearoverlays:null,onDragstart:null,onDragging:null,onDragend:null,onAddtilelayer:null,onRemovetilelayer:null,onLoad:null,onResize:null,onHotspotclick:null,onHotspotover:null,onHotspotout:null,onTilesloaded:null,onTouchstart:null,onTouchmove:null,onTouchend:null,onLongpress:null},emits:["initd","unload","click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],setup(w,{emit:M}){const n=w;let o,r=!1;const{ready:k}=Q("initd"),z=n.ak||j("baiduMapAk");l(()=>n.zoom,s),l(()=>n.tilt,m),l(()=>n.heading,c),l(()=>n.center,T),l(()=>n.enableDragging,p),l(()=>n.enableInertialDragging,b),l(()=>n.enableScrollWheelZoom,g),l(()=>n.enableContinuousZoom,f),l(()=>n.enableResizeOnCenter,h),l(()=>n.enableDoubleClickZoom,y),l(()=>n.enableKeyboard,v),l(()=>n.enablePinchToZoom,Z),l(()=>n.enableAutoResize,C),l(()=>n.mapType,d);function B(){return window._BMap?Promise.resolve():(window._BMap={},window._BMap.scriptLoader=new Promise((e,a)=>{const t=document.createElement("script");window._initBMap=()=>{e(),window.document.body.removeChild(t)},t.src=`//api.map.baidu.com/api?type=webgl&v=1.0&ak=${z}&callback=_initBMap`,t.type="text/javascript",t.defer=!0,t.onerror=a,document.body.appendChild(t)}),window._BMap.scriptLoader)}function D(){B().then(()=>{const{minZoom:e,maxZoom:a,mapType:t,enableAutoResize:i}=n;o=new BMapGL.Map("baidu-map-container",{minZoom:e,maxZoom:a,mapType:window[t],enableAutoResize:i}),A(),R(),X(n,M,o),r||(r=!0,k(o))})}function R(){const{enableDragging:e,enableInertialDragging:a,enableScrollWheelZoom:t,enableContinuousZoom:i,enableResizeOnCenter:_,enableDoubleClickZoom:P,enableKeyboard:S,enablePinchToZoom:x,enableAutoResize:L,mapType:O,zoom:I,tilt:K,heading:W}=n;s(I),m(K),c(W),p(e),b(a),g(t),f(i),h(_),y(P),v(S),Z(x),C(L),d(O)}function u(e,a){return new BMapGL.Point(e,a)}function T(){typeof n.center=="string"?o.setCenter(n.center):o.setCenter(u(n.center.lng,n.center.lat))}function A(){typeof n.center=="string"?o.centerAndZoom(n.center):o.centerAndZoom(u(n.center.lng,n.center.lat),n.zoom)}function s(e){o.setZoom(e)}function d(e){o.setMapType(window[e])}function c(e){o.setHeading(e)}function m(e){o.setTilt(e)}function p(e){console.log(e),e?o.enableDragging():o.disableDragging()}function b(e){e?o.enableInertialDragging():o.disableInertialDragging()}function g(e){e?o.enableScrollWheelZoom():o.disableScrollWheelZoom()}function f(e){e?o.enableContinuousZoom():o.disableContinuousZoom()}function h(e){e?o.enableResizeOnCenter():o.disableResizeOnCenter()}function y(e){e?o.enableDoubleClickZoom():o.disableDoubleClickZoom()}function v(e){e?o.enableKeyboard():o.disableKeyboard()}function Z(e){e?o.enablePinchToZoom():o.disablePinchToZoom()}function C(e){e?o.enableAutoResize():o.disableAutoResize()}return F(()=>{D()}),G(()=>{o==null||o.destroy()}),(e,a)=>(N(),$(J,null,[U("div",{id:"baidu-map-container",style:V([{overflow:"hidden"},{width:n.width,height:n.height}])},null,4),q(e.$slots,"default")],64))}});var le=H(Y,[["__file","index.vue"]]);export{le as default};
