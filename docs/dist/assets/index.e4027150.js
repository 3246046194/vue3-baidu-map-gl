import{_ as h,d as y,w as k}from"./app.b4148f53.js";import{u as v}from"./useBaseMapEffect.9ae51fec.js";import{b as x}from"./bindEvents.81d30a10.js";import{u as D}from"./useLife.7c430eea.js";function C(s){return Object.prototype.toString.call(s)==="[object String]"}const U=y({props:{position:null,offset:{default:()=>({x:0,y:0})},icon:null,enableMassClear:{type:Boolean,default:!0},enableDragging:{type:Boolean,default:!1},enableClicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{default:"pointer"},rotation:{default:0},title:{default:""},onClick:null,onDblclick:null,onMousedown:null,onMouseup:null,onMouseout:null,onMouseover:null,onRemove:null,onInfowindowclose:null,onInfowindowopen:null,onDragstart:null,onDragging:null,onDragend:null,onNightstick:null},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],setup(s,{emit:m}){const a=s,{ready:B}=D();let o;function S(){const e="//mapopen.bj.bcebos.com/cms/react-bmap/markers_new2x_fbb9e99.png";let i={simple_red:new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(227,189),imageSize:new BMapGL.Size(300,300)}),simple_blue:new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(227,225),imageSize:new BMapGL.Size(300,300)}),loc_red:new BMapGL.Icon(e,new BMapGL.Size(23,35),{imageOffset:new BMapGL.Size(200,189),imageSize:new BMapGL.Size(300,300)}),loc_blue:new BMapGL.Icon(e,new BMapGL.Size(23,35),{imageOffset:new BMapGL.Size(200,225),imageSize:new BMapGL.Size(300,300)}),start:new BMapGL.Icon(e,new BMapGL.Size(25,40),{imageOffset:new BMapGL.Size(200,139),imageSize:new BMapGL.Size(300,300)}),end:new BMapGL.Icon(e,new BMapGL.Size(25,40),{imageOffset:new BMapGL.Size(225,139),imageSize:new BMapGL.Size(300,300)}),location:new BMapGL.Icon(e,new BMapGL.Size(14,20),{imageOffset:new BMapGL.Size(124,233),imageSize:new BMapGL.Size(300,300)})};for(let n=1;n<=10;n++)i["red"+n]=new BMapGL.Icon(e,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(42/2*(n-1),0),imageSize:new BMapGL.Size(600/2,600/2)});for(let n=1;n<=10;n++)i["blue"+n]=new BMapGL.Icon(e,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(42/2*(n-1),132/2),imageSize:new BMapGL.Size(600/2,600/2)});return i}return v(e=>{const i=()=>{e.removeOverlay(o)},n=()=>{const u=S(),{position:g,offset:w,icon:t,enableMassClear:L,enableDragging:G,enableClicking:z,raiseOnDrag:d,draggingCursor:b,rotation:I,title:O}=a,p={offset:new BMapGL.Size(w.x,w.y),enableMassClear:L,enableDragging:G,enableClicking:z,raiseOnDrag:d,draggingCursor:b,rotation:I,title:O};if(t)if(C(t)&&u[t])p.icon=u[t];else{const{anchor:c,imageOffset:f,imageSize:l,imageUrl:_,printImageUrl:M}=a.icon,r={imageSize:new BMapGL.Size(l.width,l.height)};c&&(r.anchor=new BMapGL.Size(c.x,c.y)),f&&(r.imageOffset=new BMapGL.Size(f.x,f.y)),M&&(r.printImageUrl=M),p.icon=new BMapGL.Icon(_,new BMapGL.Size(l.width,l.height),r)}o=new BMapGL.Marker(new BMapGL.Point(g.lng,g.lat),p),e.addOverlay(o),x(a,m,o)};return k(()=>a.position,()=>{i(),n()},{deep:!0}),n(),B(e),i}),(e,i)=>null}});var R=h(U,[["__file","index.vue"]]);export{R as default};
