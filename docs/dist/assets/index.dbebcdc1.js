import{_ as x,d as K,w as a,i as L,o as W,a as I,b as j,c as E,e as F,n as G,r as N,F as $}from"./app.215ccbdf.js";import{u as H}from"./useLife.1a416f53.js";import"./useBaseMapListener.78d0f7c1.js";const U=K({props:{ak:null,width:{default:"100%"},height:{default:"100vh"},center:{default:()=>({lat:39.915185,lng:116.403901})},mapType:{default:"BMAP_NORMAL_MAP"},zoom:{default:19},heading:{default:0},tilt:{default:0},minZoom:{default:0},maxZoom:{default:21},enableDragging:{type:Boolean,default:!0},enableInertialDragging:{type:Boolean,default:!0},enableScrollWheelZoom:{type:Boolean,default:!0},enableContinuousZoom:{type:Boolean,default:!0},enableResizeOnCenter:{type:Boolean,default:!0},enableDoubleClickZoom:{type:Boolean,default:!1},enableKeyboard:{type:Boolean,default:!0},enablePinchToZoom:{type:Boolean,default:!0},enableAutoResize:{type:Boolean,default:!0}},emits:["initd","unload"],setup(Z){const o=Z;let e,r=!1;const{ready:h}=H("initd");a(()=>o.zoom,u),a(()=>o.center,M),a(()=>o.enableScrollWheelZoom,c),a(()=>o.enableContinuousZoom,m),a(()=>o.enableResizeOnCenter,b),a(()=>o.enableDoubleClickZoom,p),a(()=>o.enableKeyboard,f),a(()=>o.enablePinchToZoom,g),a(()=>o.enableAutoResize,y),a(()=>o.mapType,d);const w=o.ak||L("baiduMapAk");function C(){return window._BMap?Promise.resolve():(window._BMap={},window._BMap.scriptLoader=new Promise((n,i)=>{const t=document.createElement("script");window._initBMap=()=>{n(),window.document.body.removeChild(t)},t.src=`//api.map.baidu.com/api?type=webgl&v=1.0&ak=${w}&callback=_initBMap`,t.type="text/javascript",t.defer=!0,t.onerror=i,document.body.appendChild(t)}),window._BMap.scriptLoader)}function B(){C().then(()=>{const{minZoom:n,maxZoom:i,mapType:t,enableAutoResize:l}=o;e=new BMapGL.Map("baidu-map-container",{minZoom:n,maxZoom:i,mapType:window[t],enableAutoResize:l}),D(),z(),r||(r=!0,h(e)),e.setHeading(0),e.setTilt(0)})}function z(){const{enableDragging:n,enableInertialDragging:i,enableScrollWheelZoom:t,enableContinuousZoom:l,enableResizeOnCenter:k,enableDoubleClickZoom:R,enableKeyboard:T,enablePinchToZoom:P,enableAutoResize:v,mapType:S,zoom:O}=o;u(O),_(n),A(i),c(t),m(l),b(k),p(R),f(T),g(P),y(v),d(S)}function s(n,i){return new BMapGL.Point(n,i)}function M(){typeof o.center=="string"?e.setCenter(o.center):e.setCenter(s(o.center.lng,o.center.lat))}function D(){typeof o.center=="string"?e.centerAndZoom(o.center):e.centerAndZoom(s(o.center.lng,o.center.lat),o.zoom)}function u(n){e.setZoom(n)}function d(n){e.setMapType(window[n])}function _(n){n?e.enableDragging():e.disableDragging()}function A(n){n?e.enableInertialDragging():e.disableInertialDragging()}function c(n){n?e.enableScrollWheelZoom():e.disableScrollWheelZoom()}function m(n){n?e.enableContinuousZoom():e.disableContinuousZoom()}function b(n){n?e.enableResizeOnCenter():e.disableResizeOnCenter()}function p(n){n?e.enableDoubleClickZoom():e.disableDoubleClickZoom()}function f(n){n?e.enableKeyboard():e.disableKeyboard()}function g(n){n?e.enablePinchToZoom():e.disablePinchToZoom()}function y(n){n?e.enableAutoResize():e.disableAutoResize()}return W(()=>{B()}),I(()=>{e==null||e.destroy()}),(n,i)=>(j(),E($,null,[F("div",{id:"baidu-map-container",style:G([{overflow:"hidden"},{width:o.width,height:o.height}])},null,4),N(n.$slots,"default")],64))}});var Q=x(U,[["__file","index.vue"]]);export{Q as default};
